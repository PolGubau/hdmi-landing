---
import { getLangFromUrl, useTranslations } from "~/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const projects = [
  {
    title: "NovaHair",
    description: "Software de gesti贸n de citas para peluquer铆as",
    url: "https://novahair.polgubau.com",
    tags: ["React", "Gesti贸n", "Reservas"],
    emoji: "锔",
  },
  {
    title: "Flatmatch",
    description: "Web estilo Tinder para encontrar habitaci贸n en Barcelona",
    url: "https://flatmatch.polgubau.com",
    tags: ["Next.js", "Geolocalizaci贸n", "Barcelona"],
    emoji: "",
  },
  {
    title: "TrackUp",
    description: "Asistente web para entrenar en el gimnasio",
    url: "https://trackup.polgubau.com",
    tags: ["React", "Fitness", "Entrenamiento"],
    emoji: "",
  },
];
---

<section
  id="portfolio"
  class="px-6 lg:px-8 py-32 sm:py-40 w-full mx-auto max-w-7xl"
>
  <header
    class="intersect-once intersect:motion-preset-blur-down motion-delay-200 first_hidden mb-12"
  >
    <h2>{t("portfolio.title")}</h2>
  </header>

  <ul class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
    {
      projects.map((project) => (
        <a
          href={project.url}
          target="_blank"
          rel="noopener noreferrer"
          aria-label={`Ver proyecto ${project.title}`}
          class="group flex flex-col gap-8 rounded-2xl transition-all duration-300 hover:opacity-90"
        >
          <div class="aspect-video rounded-md bg-gradient-to-br from-primary/20 to-primary/5 dark:from-primary/30 dark:to-primary/10 flex items-center justify-center overflow-hidden transition-all">
            <div class="group-hover:scale-110 transition-[scale]">
              <span class="text-4xl opacity-50 transition-all">{project.emoji}</span>
            </div>
          </div>
          <div class="pr-4 text-balance">
            <h3 class="project-title">{project.title}</h3>
            <p class="text-muted-foreground text-sm mb-4">
              {project.description}
            </p>
            <ul class="flex flex-wrap gap-2">
              {project.tags.map((tag) => (
                <li class="text-xs px-2 py-1 rounded-full bg-primary/10 text-primary">
                  {tag}
                </li>
              ))}
            </ul>
          </div>
        </a>
      ))
    }
  </ul>
</section>
