---
import { getLangFromUrl, useTranslations } from "~/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Placeholder blog posts - you can replace with actual content collection later
const blogPosts = [
  {
    title: "C칩mo automatizar tu negocio en 2024",
    excerpt:
      "Descubre las mejores herramientas y estrategias para automatizar procesos empresariales.",
    date: "2024-02-15",
    category: "Automatizaci칩n",
    readTime: "5 min",
  },
  {
    title: "SEO: Gu칤a completa para principiantes",
    excerpt:
      "Todo lo que necesitas saber para posicionar tu web en Google desde cero.",
    date: "2024-02-10",
    category: "SEO",
    readTime: "8 min",
  },
  {
    title: "Tendencias en desarrollo web 2024",
    excerpt:
      "Las tecnolog칤as y frameworks que est치n revolucionando el desarrollo web este a침o.",
    date: "2024-02-05",
    category: "Desarrollo",
    readTime: "6 min",
  },
];
---

<section id="blog" class="bg-foreground/5 w-full">
  <div class="px-6 lg:px-8 py-32 mx-auto max-w-7xl">
    <header
      class="intersect-once intersect:motion-preset-blur-down motion-delay-200 first_hidden mb-12"
    >
      <h2>{t("blog.title")}</h2>
    </header>

    <ul class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
      {
        blogPosts.map((post, index) => (
          <li
            class={`intersect-once group rounded-md bg-card dark:bg-card/50 border  border-border hover:border-foreground/20 overflow-hidden transition-all intersect:motion-preset-blur-down motion-delay-${index * 100} first_hidden`}
          >
            <div class="aspect-video bg-primary/10 flex items-center justify-center overflow-hidden relative">
              <span class="absolute top-2 right-2 px-3 py-1 rounded-full bg-muted text-muted-foreground dark:text-primary-300 text-xs ">
                {post.category}
              </span>

              <div class="group-hover:scale-110 transition-[scale]">
                <span class="text-4xl opacity-50 transition-all">游</span>
              </div>
            </div>

            <div class="p-6 flex flex-col gap-4">
              <h3 class="h-14">{post.title}</h3>

              <p class="text-muted-foreground text-sm line-clamp-3">
                {post.excerpt}
              </p>

              <footer class="flex items-center justify-end text-xs gap-2">
                <time class="text-muted-foreground" datetime={post.date}>
                  {new Date(post.date).toLocaleDateString(lang, {
                    year: "numeric",
                    month: "long",
                    day: "numeric",
                    weekday: "long",
                  })}
                </time>
              </footer>
            </div>
          </li>
        ))
      }
    </ul>
  </div>
</section>
