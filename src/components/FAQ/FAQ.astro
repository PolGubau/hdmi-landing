---
import { getLangFromUrl, useTranslations } from "~/i18n/utils";
import FAQAccordion from "./FAQAccordion";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const faqItems = [
  {
    question: t("faq.q1.question"),
    answer: t("faq.q1.answer"),
  },
  {
    question: t("faq.q2.question"),
    answer: t("faq.q2.answer"),
  },
  {
    question: t("faq.q3.question"),
    answer: t("faq.q3.answer"),
  },
  {
    question: t("faq.q4.question"),
    answer: t("faq.q4.answer"),
  },
  {
    question: t("faq.q5.question"),
    answer: t("faq.q5.answer"),
  },
  {
    question: t("faq.q6.question"),
    answer: t("faq.q6.answer"),
  },
  {
    question: t("faq.q7.question"),
    answer: t("faq.q7.answer"),
  },
  {
    question: t("faq.q8.question"),
    answer: t("faq.q8.answer"),
  },
];

// Split into two columns
const leftColumn = faqItems.slice(0, 4);
const rightColumn = faqItems.slice(4);
---

<section
  id="faq"
  class="px-6 py-32 sm:py-40 lg:px-8 bg-muted/30 dark:bg-muted/10"
>
  <div class="mx-auto max-w-7xl">
    <div
      class="mx-auto max-w-2xl text-center intersect-once intersect:motion-preset-blur-down motion-delay-200 first_hidden"
    >
      <h2
        class="text-balance text-4xl font-bold tracking-tight text-foreground sm:text-5xl"
      >
        {t("faq.title")}
      </h2>
      <p class="mt-6 text-pretty text-lg leading-relaxed text-muted-foreground">
        {t("faq.subtitle")}
      </p>
    </div>

    <div class="mx-auto mt-20 max-w-6xl">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Left Column -->
        <div>
          <FAQAccordion items={leftColumn} startIndex={0} client:load />
        </div>

        <!-- Right Column -->
        <div>
          <FAQAccordion items={rightColumn} startIndex={4} client:load />
        </div>
      </div>
    </div>
  </div>
</section>
